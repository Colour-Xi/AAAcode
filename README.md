# Screeps TypeScript AI

这是一个使用TypeScript编写的Screeps AI项目，提供了基本的角色管理和行为逻辑框架。

## 项目结构

```
src/
├── main.ts          # 主入口文件
├── types.d.ts       # 类型定义文件
├── constants.ts     # 常量定义文件
├── utils.ts         # 工具函数文件
└── roles/           # 角色类目录
    ├── Role.ts      # 角色基类
    ├── Harvester.ts # 采集者角色
    ├── Upgrader.ts  # 升级者角色
    └── Builder.ts   # 建造者角色
```

## 功能特点

1. **模块化设计**：采用面向对象的方式组织代码，便于扩展和维护
2. **类型安全**：使用TypeScript提供的类型系统，减少运行时错误
3. **角色系统**：实现了基本的角色管理和行为逻辑
4. **内存管理**：自动清理和初始化内存
5. **智能生成**：根据房间能量和角色配置自动生成creep

## 角色介绍

### Harvester（采集者）
- **功能**：采集能量并将其转移到生成器、扩展和存储中
- **优先级**：生成器 > 扩展 > 存储 > 终端 > 控制器升级

### Upgrader（升级者）
- **功能**：主要负责升级房间控制器
- **优先级**：控制器升级

### Builder（建造者）
- **功能**：建造新结构和修复受损结构
- **优先级**：建造 > 修复（非墙和rampart）> 修复（墙和rampart，生命值低于1000）> 控制器升级

## 使用指南

### 1. 安装依赖
```bash
npm install
```

### 2. 编译代码
```bash
tsc
```

### 3. 部署到Screeps
可以使用`screeps-cli`或其他Screeps部署工具将`dist`目录下的代码部署到Screeps服务器。

### 4. 配置
可以在`constants.ts`文件中调整角色配置、颜色和优先级等参数。

### 5. 扩展
要添加新的角色，只需创建一个继承自`Role`基类的新类，并实现`getEnergy`和`work`方法。

## 注意事项

1. 确保在游戏中启用TypeScript支持
2. 首次运行时，AI会自动初始化房间内存
3. 可以通过设置`Memory.log = true`来启用日志输出
4. AI会自动清理内存中已死亡的creep

## 扩展建议

1. 添加更多角色类型（如claimer、soldier、healer等）
2. 实现更复杂的能量管理策略
3. 添加房间防御逻辑
4. 实现多房间管理
5. 添加资源交易和市场逻辑
